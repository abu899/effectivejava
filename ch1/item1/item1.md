# Item 1

## 생성자 대신 정적 팩터리 메서드를 고려하라

### 장점

- 이름을 가질 수 있음
  - 생성자는 동일한 시그니처를 가지고 두개를 생성 불가
- 호출될 때마다 인스턴스를 새로 생성하지 않아도 됨
  - Singleton
- 반환 타입의 하위 타입 객체를 반환할 수 있음
  - 인터페이스 기반 프레임 워크, 인터페이스에 정적 메소드
- 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환 가능
- 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 됨(ServiceLoader)
  - 서비스 제공자 프레임워크

### 단점

- 상속을 하려면 public 이나 protected 생성이 필요하기에 정적 팩토리 메서드만 제공하면 하위 클래스를 만들 수 없음
- 개발자가 정적 팩토리 메서드를 찾기 어려움
  - javadoc 의 문서화를 만들 때, 정적 팩토리 메서드는 생성자 파트가 아닌 메서드 파트에 들어감
  - 즉, 메서드가 많아짐에 따라서 이를 javadoc 에서 찾기 어려움
  - 네이밍 패턴을 사용해서 그나마 찾기 쉽게하거나 /** */ 주석에서 명시적으로 알려준다

## 완벽 공략

- `열거 타입(Enum)`은 인스턴스가 하나만 만들어짐을 보장
- 같은 객체가 자주 요청되는 상황이라면 `플라이웨이트 패턴`을 사용할 수 있음
- 자바 8부터는 인터페이스가 정적 메서드를 가질 수 있음
- 서비스 제공자 프레임워크를 만드는 근간이 됨
  - 서비스 제공자 인터페이스가 없다면 각 구현체를 인스턴스로 만들 때 리플렉션을 사용해야 함
- 브릿지 패턴
- 의존 객체 주입 프레임워크

### 열거 타입

- 상수 목록을 담을 수 있는 데이터 타입
- 특정한 변수가 가질수 있는 값을 제한 가능
  - `Type-Safety`를 보장할 수 있음
  - enum 이 없이 상태를 표현하려면 문자열 또는 숫자 타입을 사용할수 있지만, 정의하지 않은 값이 들어갈 수 있음
- 싱글턴 패턴을 안전하게 구현할 떄도 사용
  - enum 으로 만들어진 인스턴스는 단 하나만 만들어짐

### 플라이웨이트 패턴

- 객체를 가볍게 만들어 메모리 사용을 줄이는 패턴
- 자주 변하는 속성과 변하지 않는 속성을 분리하고 재사용하여 메모리 사용을 줄일 수 있음

### 인터페이스와 정적 메서드

- 인터페이스는 기본(default) 메서드와 정적 메서드를 가질 수 있음
- 기본 메서드
  - 인터페이스에서 메소드 선언과 더불어 기본적인 구현체를 제공
  - 인터페이스를 구현하는 클래스에 새로운 기능을 추가 가능
- 정적 메서드
  - private static method 선언 가능

### 서비스 제공자 프레임워크

- 확장 가능한 어플리케이션을 만드는 방법을 제공
- 주요 구성 요소
  - 서비스 제공자 인터페이스(SPI)와 서비스 제공자(서비스 구현체)
  - 서비스 제공자 등록 API
    - 서비스 인터페이스의 구현체를 등록하는 방법
  - 서비스 접근 API
    - 서비스의 클라이언트가 서비스 인터페이스의 인스턴스를 가져올 때 사용하는 API
- 변형
  - 브릿지 패턴
    - 구체적인 것과 추상적인 것을 분리하는 것
  - 의존 객체(Dependency Injection, DI) 주입 프레임워크
  - java.util.ServiceLoader