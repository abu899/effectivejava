# Item 21

## 인터페이스는 구현하는 쪽을 생각해서 설계하라

- 기존 인터페이스에 디폴트 메서드를 추가하는 것은 위험
  - 디폴트 메서드를 구현한다는 건, `기존 구현 클래스를 아무것도 고려하지않고 무작정 삽입`시키는 것
  - 기존 구현체에 런타임 오류를 일으킬 위험이 존재
  - Collection.removeIf
    - Synchronized Collection 입장에서는 위험한 기능이 됨
    - 멀티쓰레드에서는 안전하지 않은 컬렉션이 되버림 -> `ConcurrentModificationException`
- 인터페이스를 설계할 때 주의가 필요
  - 서로 다른 방식으로 최소한 세가지는 구현을 해봐야 함

### ConcurrentModificationException

- 현재 바뀌면 안되는 것을 수정할 때 발생하는 예외
- 무조건 멀티 쓰레드에서만 발생하는 것은 아님
  - 싱글 쓰레드여도 컬렉션을 순회하는 중에 컬렉션을 변경하면 발생