# Item 28

## 배열보다는 리스트를 사용하라

> 배열과 제네릭은 어울리지 않는다

- 배열은 공변(covariant), 제네력은 불공변(incovariant)
  - 공변 : 같이 변한다
  - 상속관게에서 보면 이해할 수 있음
- 배열은 실체화되지만, 제네릭은 실체화되지 않음(소거)
  - 실체화 : 작성한 타입이 런타임에 유지가 되느냐
  - 소거되도록 구현한 목적은 하위보전 호환성 때문
- new Generic<Type>[] 은 컴파일 불가
- 제네릭 소거
  - 원소의 타입을 컴파일 타입에만 컴사하며 런타임에는 알 수 없음

## @SafeVarargs

- 생성자와 메서드의 제네릭 가변인자에 사용할 수 있는 어노테이션
- 제네릭 가변인자는 근본저긍로 타입 안전하지 않음
  - 가변인자가 배열이기에
- 가변 인자의 내부 데이터가 오염될 가능성이 존재
- `@SafeVarargs`를 사용하면 가변인자 오염에 대한 경고를 숨길 수 있음
  - Heap Pollution 이 일어나지않은 safe 한 상황에서 사용하는 용도
  - 변수할당이나 리턴하는 등의 동작이 없는 경우inf
- Item 32, 제네릭과 가변인수를 함꼐 쓸 때는 신중하라