# Item 33

## 타입 안전 이종 컨테이너를 고려하라

- 타입 안전 이종 컨테이너
  - 한 타입의 객체만 담을 수 있는 컨테이너가 아니라 여러 타입을 담을 수 있는 안전한 컨테이너
- 타입 토큰
  - String.class 또는 Class<String>
- 타입 안전 이종 컨테이너 구현 방법
  - 컨테이너가 아니라 키를 매개변수화 하라

## 완벽 공략

### 슈퍼 타입 토큰

- 익명 클래스와 제네릭 클래스 상속을 사용한 타입 토큰
- 닐 게프터의 슈퍼 타입 토큰
- 상속을 사용한 경우, 제네릭 타입이 제거되지 않기 때문에 제네릭 타입을 알아낼 수 있음

### 한정적 타입 토큰

- 한정적 ㅏ입 토큰을 사용하면, 이종 컨테이너에 사용할 수 있는 타입을 제한 가능
  - `AnnotatedElement.<T extends Annotation> T getAnnotation(Class<T> annotationClass)`
- asSubClass 메서드
  - 메서드를 호출하는 Class 인스턴스를 인수로 명시한 클래스로 형변환